<button type="button" class="btn btn-block bg-gradient-info" data-toggle="modal" data-target=#hrp-modal>
    Add Human Resource Posting
    <i class="fas fa-plus"></i>
</button>

<div class="modal fade" id="hrp-modal">
    <div class="modal-dialog">
        <div class="modal-content bg-info">
            <div class="modal-header">
                <h4 class="modal-title">Add Human Resource Posting</h4>
                <button type="button" id="addHrpModalCloseBtn" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <form (ngSubmit)="createHrp(hrpForm)" #hrpForm="ngForm">
                <div class="modal-body">
                    <div class="form-group">
                        <label for="hrpName">Human Resource Posting Name</label>
                        <input type="text" id="hrpName" class="form-control" placeholder="Enter Name" name="hrpName" [(ngModel)]="newHrp.name" required>
                    </div>
                    <div class="form-group">
                        <label for="description">Description</label>
                        <textarea id="description" class="form-control" placeholder="Enter Description" name="description" [(ngModel)]="newHrp.description" required></textarea>
                    </div>
                    <div class="form-group">
                        <label for="skillTag">Skill Tags</label>
                        <div class="select2-blue">
                            <select class="select2" id="hrpselect2" multiple="multiple" data-placeholder="Select relevant tags" data-dropdown-css-class="select2-blue" style="width: 100%;"></select>                        
                        </div>                   
                    </div>
                    <div class="form-group">
                        <label for="startDate">Start Date</label>
                        <input id="startDate" type="date" class="form-control" name="startDate" [(ngModel)]="newHrp.startDate" [min]="minDate" required>
                    </div>
                    <div class="form-group">
                        <label for="endDate">End Date</label>
                        <input id="endDate" type="date" class="form-control" name="endDate" [(ngModel)]="newHrp.endDate" [min]="newHrp.startDate" required>
                    </div>
                    <div class="form-group">
                        <label for="totalSlots">Total Slots Needed</label>
                        <input id="totalSlots" type="number" class="form-control" placeholder="Enter slots needed" name="totalSlots" [(ngModel)]="newHrp.totalSlots" min="1" required>
                    </div>
                    <!-- <div class="form-group">
                        <label>Location of resource</label>
                        <google-map height="500px" width="100%" [zoom]="zoom" [center]="center" [options]="options"
                            (mapClick)="click($event)">
                        </google-map>
                    </div> -->
                    <div class="form-group">
                        <label for="lat">Latitude</label>
                        <input id="lat" type=number steps="any" class="form-control" placeholder="Enter latitude" name="lat" [(ngModel)]="newHrp.latitude" required>
                    </div>
                    <div class="form-group">
                        <label for="long">Longitude</label>
                        <input id="long" type=number steps="any" class="form-control" placeholder="Enter longitude" name="long" [(ngModel)]="newHrp.longitude" required>
                    </div>
                </div>
                <div class="modal-footer justify-content-between">
                    <button type="button" class="btn btn-outline-light" data-dismiss="modal">Cancel</button>
                    <button type="button" type="submit" class="btn btn-outline-light" [disabled]="!hrpForm.valid">Create</button>
                </div>
            </form>
        </div>
    </div>
</div>

<span *ngIf="hrpList.length == 0">There is no human resource posting at the moment.</span>

<span *ngIf="hrpList.length > 0">
    <div *ngFor="let hrp of hrpList">
        <a class="card" style="width: 100%;" data-toggle="modal" href="#edit-modal" (click)="clickHrp(hrp.humanResourcePostingId)">
            <div class="card-body">
                <h5 class="card-title">{{hrp.name}}</h5>
                
            </div>
        </a>
    </div>
</span>

<div class="modal fade" id="edit-modal">
    <div class="modal-dialog">
        <div class="modal-content bg-info">
            <div class="modal-header">
                <h4 class="modal-title">Update Human Resource Posting</h4>
                <button type="button" id="editHrpModalCloseBtn" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <form (ngSubmit)="editHrp(editHrpForm)" #editHrpForm="ngForm">
                <div class="modal-body">
                    <div class="form-group">
                        <label for="hrpName">Human Resource Posting Name</label>
                        <input type="text" id="hrpName" class="form-control" placeholder="Enter Name" name="hrpName" [(ngModel)]="hrpToEdit.name" required>
                    </div>
                    <div class="form-group">
                        <label for="description">Description</label>
                        <textarea id="description" class="form-control" placeholder="Enter Description" name="description" [(ngModel)]="hrpToEdit.description" required></textarea>
                    </div>
                    <div class="form-group">
                        <label for="editskillselect2">Skill Tags</label>
                        <div class="select2-blue">
                            <select class="select2" id="editskillselect2" multiple="multiple" data-placeholder="Select relevant tags" data-dropdown-css-class="select2-blue" style="width: 100%;"></select>                        
                        </div>                   
                    </div>
                    <div class="form-group">
                        <label for="startDate">Start Date</label>
                        <input id="startDate" type="date" class="form-control" name="startDate" [(ngModel)]="startDate" [min]="minDate" required>
                    </div>
                    <div class="form-group">
                        <label for="endDate">End Date</label>
                        <input id="endDate" type="date" class="form-control" name="endDate" [(ngModel)]="endDate" [min]="startDate" required>
                    </div>
                    <div class="form-group">
                        <label for="totalSlots">Total Slots Needed</label>
                        <input id="totalSlots" type="number" class="form-control" placeholder="Enter slots needed" name="totalSlots" [(ngModel)]="hrpToEdit.totalSlots" min="1" required>
                    </div>
                    <!-- <div class="form-group">
                        <label>Location of resource</label>
                        <google-map height="500px" width="100%" [zoom]="zoom" [center]="center" [options]="options"
                            (mapClick)="click($event)">
                        </google-map>
                    </div> -->
                    <div class="form-group">
                        <label for="lat">Latitude</label>
                        <input id="lat" type=number steps="any" class="form-control" placeholder="Enter latitude" name="lat" [(ngModel)]="hrpToEdit.latitude" required>
                    </div>
                    <div class="form-group">
                        <label for="long">Longitude</label>
                        <input id="long" type=number steps="any" class="form-control" placeholder="Enter longitude" name="long" [(ngModel)]="hrpToEdit.longitude" required>
                    </div>
                </div>
                <div class="modal-footer justify-content-between">
                    <button type="button" class="btn btn-danger" data-toggle="modal" data-target="#delete-confirm-dialog">Delete</button>
                    <button type="button" type="submit" class="btn btn-outline-light" [disabled]="!editHrpForm.valid">Update</button>
                </div>
            </form>
        </div>
    </div>
</div>

<div class="modal fade" id="delete-confirm-dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="confirmDialogLabel">Delete Human Resource Posting</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p>Are you sure you want to delete this human resource posting?</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button id="delete-hrp" type="button" class="btn btn-danger" data-dismiss="modal" (click)="deleteHrp()">Delete</button>
            </div>
        </div>
    </div>
</div>
